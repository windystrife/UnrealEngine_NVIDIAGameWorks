INTSourceChangelist:2714891
Availability:Public
Title:物理の減衰
Crumbs: %ROOT%, Engine, Engine/Physics
Description:物理オブジェクトを運動に抵抗させるために使用するプロパティと方法。


[TOC(start:2)]




物理ボディを減速させるには、大気抵抗をシミュレーションする、またはヒンジに抵抗を追加します。物理ボディと物理コンストレイントで利用可能なプロパティが 2 つあります。Linear Damping (線形減衰) と 
Angular Damping (傾斜減衰) の 2 つです。Linear Damping は物理ボディやコンストレイントがどの程度平行移動に抵抗するかを制御します。 Angular Damping はどの程度、回転に抵抗するかを制御します。 

##物理ボディ

各物理ボディには、**Linear Damping** と **Angular Damping** の プロパティがあります。この 2 つは主に抵抗をシミュレーションするために使用し、 
値 1.0 であってもかなりの効果を物理ボディに与えます。

[REGION:note]
参考までに、通常の重力 (9.8m/s^2) では、シミュレーション開始時に最初に重力で引っ張られて単一のボディ アクタが落ちないようにするには、 
Linear Damping 値 30 で十分です。複数の物理ボディが相互作用すると (物理コンストレイントの使用によって、またはコリジョンが発生している場合)、 
物理ボディを止めるために必要な減衰量は増えます。

力を適用された物理ボディを止めるための _最小_ Linear Damping 値は、約 100 です。

Angular Damping (傾斜減衰) がないと、外部の力の作用を加えられるまで回転し続けます。小さな値でも、回転を迅速に減らすことができます。 
値 100 は、外部発生源で生じた角運動を直ちに止めます。
[/REGION]

## 物理コンストレイント

物理コンストレイントの減衰は物理ボディの場合とは若干異なる働きをします。Limited Motions (制限されたモーション) とモーションがその制限を超えようとした場合にのみ機能します。物理コンストレイントのモーションを、Limited に設定すると、 
以下のように **Soft Limits (ソフト リミット)** が表示されます。

[REGION:raw]
![](Phys_ConstraintDampProps.png)(convert:false)
[/REGION]

_2 つの Angular Swing Motions は、Damping (減衰) 値を共有し、Angular Twist は独自の減衰値を受け取り、すべての線形軸は同じ減衰値を使用します。これらは別個のプロパティを持つ場合がありますが、 
プロパティはすべて関連するモーションに同じ効果をもたらします。_

| プロパティ | 説明 |
| -------- | ----------- |
| **Limit Stiffness** | 制限を超えた場合、この値はコンストレイントがどれくらい強く違反しているモーションを停止しようとするかに影響を与えます。デフォルト値 50 はモーションにほとんど影響を与えません。値 5000 は制限に戻るように見えます。値 50,000 はモーションを完全にかわします。 |
| **Limit Damping** | 物理ボディ上の減衰と同様に、モーションをどの程度減速させるかを定義します。物理ボディ上の減衰とは異なり、この減衰の影響はモーション制限を超えた場合にのみ起こり、物理ボディが停止するまで運動量を弱めます。 |

この 2 つの値は一緒に機能し、異なる効果を生み出します。Stiffness を高くし、Damping を低くすると厳しい制限に見えますが、両方とも高くするとタールの中を移動しているように見えます。 
そっと停止しますが、迅速です。各自のニーズに合わせて適切な値が見つかるようにするには、色々試してみる必要があります。

コンストレイントの詳細については[](Engine/Physics/Constraints/ConstraintsUserGuide) をご覧ください。

または、物理コンストレイントで利用可能なプロパティの
 リファレンスについては、[](Engine/Physics\Constraints\ConstraintsReference) をご覧ください。 

<!--
##PhysicalMaterial 減衰
これはボディに適用される空気抵抗のようなものと考えるとよいでしょう。ボディを減速させようとして力が適用されます。 
力の強度はオブジェクトが移動している速さに比例します。線形減衰と傾斜減衰には別個の設定があります。そのため、平行移動や回転の動きにどの程度抵抗しようとするかを制御できます。 
この機能を使用するケースとしては、永遠には揺れてほしくないシャンデリアが考えられます。しかし、この機能をドアには使いたくないでしょう。 
実際のドアの摩擦の多くはヒンジが原因で生じるからです。ドアの PhysicalMaterial (物理マテリアル) に高い減衰を設定し、ヒンジが外れた場合でも、減衰が適用されていて、 
不自然に見える場合があります。 



## Joint Drive
ジョイント内で「摩擦」をシミュレーションするには、RB_ConstraintInstance のジョイント ドライブ プロパティを使用します 
 (こうしたプロパティは、PhAT でジョイントを選択し、'I' キーを押すか、ツールバーの'i' のアイコンを押して利用できます)。最初に、適切な bTwistVelocityDrive または bSwingVelocityDrive ドライブをオンにして、必要な角速度をゼロに設定し、 
AngularDriveForceLimit を変更してジョイントの摩擦の強さを制御します。詳しい情報は [物理コンストレイントのリファレンス](Engine/Physics/PhysX/Constraints) 
 ページをご覧ください。 

重要なことは、2 つの結合されたオブジェクトの間に減衰が適用されるということです。2 つのオブジェクトが結合されているが、空間に投げ出されている様子を想像してみてください。この場合に PhysicalMaterial 減衰を使用すると、 
実際に望んでいるのは相対的にどのように動くかを変更することであるにも関わらず、この一組のオブジェクトが空気中をどれくらい速く移動するかを減速させることになります。 
従って、このケースでは、Joint Drive を使用するのが適切です。



## PhysicsVolume RigidBodyDamping
レベルの一部のエリアにあるオブジェクトだけに減衰または力を適用したい場合があるかもしれません。これを行うには、PhysicsVolume を使用します。PhysicsVolume の  
ZoneVelocity プロパティは、ボリューム内のオブジェクトが達成すべき望ましい速度です。エリア内の川や風洞の速度と考えることができます。次に、RigidBodyDamping プロパティを変更して、 
ボリューム内で物理ボディがどれくらい強くその速度を達成しようとするかを制御することができます。ZoneVelocity をゼロに設定し、RigidBodyDamping を高くすると、 
ボリュームはゼリーのような挙動をします。ZoneVelocity を水平にし、RigidBodyDamping を中程度にすると、流れる川の水のようになります。
-->
 










