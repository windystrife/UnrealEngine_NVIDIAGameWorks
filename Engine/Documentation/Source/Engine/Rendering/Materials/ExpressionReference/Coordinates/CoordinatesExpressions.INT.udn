Availability:Public
Title:Coordinates Expressions
Crumbs: %ROOT%, Engine, Engine/Rendering/Materials
Description:Expressions that perform actions on texture coordinates or output values that can be used as, or to modify, texture coordinates.
Version:4.9
tags:Materials

[EXCERPT:TOC]
[TOC(start:2)]
[/EXCERPT:TOC]


[INCLUDE:Engine/Rendering/Materials/ExpressionReference/Vector#ActorPositionWS]


[INCLUDE:Engine/Rendering/Materials/ExpressionReference/Vector#CameraPositionWS]


## LightmapUVs

The **LightmapUVs** expression outputs the lightmap UV texture coordinates in the form of a two-channel vector value. If lightmap UVs are unavailable, it will output a two-channel vector value of (0,0).


[INCLUDE:Engine/Rendering/Materials/ExpressionReference/Vector#ObjectOrientation]


[INCLUDE:Engine/Rendering/Materials/ExpressionReference/Vector#ObjectPositionWS]


## ObjectRadius

The **Object Radius** outputs a value equal to the radius of a given object in Unreal units. Scaling is taken into account and the results can be unique for each individual object.

[REGION:fullwidth]
![ObjectRadiusExample.png](ObjectRadiusExample.png)
[/REGION]


In this example, both meshes are receiving this material in which the ObjectRadius is fed into Diffuse. The ObjectRadius output is being divided by 512 to provide a more meaningful visual result.

## Panner

The **Panner** expression outputs UV texture coordinates that can be used to create panning, or moving, textures.

| Item | Description |
| -------- | ----------- |
| [REGION:tablesection]Properties[/REGION] ||
| **SpeedX** | Specifies the speed to pan the coordinates in the U direction. |
| **SpeedY** | Specifies the speed to pan the coordinates in the V direction. |
| [REGION:tablesection]Inputs[/REGION] ||
| **Coordinate** | Takes in base UV texture coordinates the expression can then modify. |
| **Time** | Takes in a value used to determine the current panning position. This is usually a [Time](Engine/Rendering/Materials/ExpressionReference/Constant#Time) expression to provide a constant panning effect, but a [Constant](Engine/Rendering/Materials/ExpressionReference/Constant#Constant) or [ScalarParameter](Engine/Rendering/Materials/ExpressionReference/Parameters#ScalarParameter) can be used as well to set a specific offset or to control the panning through Matinee or Blueprints. |


Panner generates UVs that change according to the Time input.  The Coordinate input can be used to manipulate (e.g. offset) the UVs generated by the Panner node.

[REGION:fullwidth]
![PannerExample.png](PannerExample.png)(w:1000)
[/REGION]


[INCLUDE:Engine/Rendering/Materials/ExpressionReference/Particles#ParticlePositionWS]


[INCLUDE:Engine/Rendering/Materials/ExpressionReference/Vector#PixelNormalWS]


## Rotator

The **Rotator** expression outputs UV texture coordinates in the form of a two-channel vector value that can be used to create rotating textures.

| Item | Description |
| -------- | ----------- |
| [REGION:tablesection]Properties[/REGION] ||
| **CenterX** | Specifies the U coordinate to use as the center of the rotation. |
| **CenterY** | Specifies the V coordinate to use as the center of the rotation. |
| **Speed** | Specifies the speed to rotate the coordinates clockwise. |
| [REGION:tablesection]Inputs[/REGION] ||
| **Coordinate** | Takes in base UV texture coordinates the expression can then modify. |
| **Time** | Takes in a value used to determine the current rotation position. This is usually a [Time](Engine/Rendering/Materials/ExpressionReference/Constant#Time) expression to provide a constant rotation effect, but a [Constant](Engine/Rendering/Materials/ExpressionReference/Constant#Constant) or [ScalarParameter](Engine/Rendering/Materials/ExpressionReference/Parameters#ScalarParameter) can be used as well to set a specific offset or to control the rotation through Matinee or Blueprints. |

[REGION:fullwidth]
![RotatorExample.png](RotatorExample.png)
[/REGION]

## SceneTexelSize

The **SceneTexelSize** expression allows you to offset by texel sizes, as you would when using the SceneColor and SceneDepth expressions. This is useful for edge detection in multi-resolution systems, as without this calculation you would be forced to use a small static value, resulting in inconsistent results at lower resolutions.

## ScreenPosition

The **ScreenPosition** expression outputs the screen-space position of the pixel currently being rendered.  

<!--| Item | Description |
| -------- | ----------- |
| [REGION:tablesection]Properties[/REGION] ||
| **Screen Align** | If true, ScreenPosition divides the position by the homogeneous coordinate and maps the position to [0,0] - [1,1] for screen alignment. |-->

[REGION:fullwidth]
![ScreenPositionExample.png](ScreenPositionExample.png)
[/REGION]

## TextureCoordinate

The **TextureCoordinate** expression outputs UV texture coordinates in the form of a two-channel vector value allowing materials to use different UV channels, specify tiling, and otherwise operate on the UVs of a mesh.

| Item | Description |
| -------- | ----------- |
| [REGION:tablesection]Properties[/REGION] ||
| **Coordinate Index** | Specifies the UV channel to use. |
| **UTiling** | Specifies the amount of tiling in the U direction. |
| **VTiling** | Specifies the amount of tiling in the V direction. |
| **Un Mirror U** | If _true_, undo any mirroring in the U direction. |
| **Un Mirror V** | If _true_, undo any mirroring in the V direction. |


**Example Usage:** To access the second UV channel of a mesh, create a TextureCoordinate node, set its CoordinateIndex to 1 (0 - first channel, 1 - second channel, etc), and connect it to the UVs input of a TextureSample node.

[REGION:fullwidth]
![TextureCoordinateExample.png](TextureCoordinateExample.png)
[/REGION]

[INCLUDE:Engine/Rendering/Materials/ExpressionReference/Vector#VertexNormalWS]


## ViewSize
 
 The **ViewSize** expression outputs a 2D vector giving the size of the current view in pixels. This is useful for causing various changes in your materials based on the current resolution of the screen.

 ![](ViewSizeNetwork.png)

[REGION:imagetable]
| ![](ViewSize1.png) | ![](ViewSize2.png) |
| :---: | :---: |
| Preview Window Size: 740x700 | Preview Window Size: 740x280 |
[/REGION]

 In this example, ViewSize is being fed into Base Color. The result is divided by 2,400 to provide a more meaningful result.


[EXCERPT:WorldPosition]
## WorldPosition


The **WorldPosition** expression outputs the position of the current pixel in world space. To visualize, simply plug the output into Emissive:

[REGION:fullwidth]
![WorldPositionExample.png](WorldPositionExample.png)
[/REGION]

Common uses are to find the radial distance from the camera to a pixel (as opposed to the orthogonal distance from PixelDepth).  WorldPosition is also useful to use as a texture coordinate and have unrelated meshes using the texture coord match up when they are near each other.  Here is a basic example of using WorldPosition.xy to planar map a texture:

[REGION:fullwidth]
![WorldPosPlanarMap.png](WorldPosPlanarMap.png)
[/REGION]
[/EXCERPT:WorldPosition]

